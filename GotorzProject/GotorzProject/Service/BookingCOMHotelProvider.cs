using GotorzProject.Service.Model;
using GotorzProject.Shared;
using GotorzProject.Shared.DataTransfer;
//using Newtonsoft.Json;
using System.Numerics;
using System.Text.Json;
using System.Text.RegularExpressions;

namespace GotorzProject.Service
{
    public class BookingCOMHotelProvider : IHotelProvider
    {
        string dateFormat = "yyyy-MM-dd";
        HttpClient _httpClient;

        private readonly string apiBase;


        public BookingCOMHotelProvider(IHttpClientFactory httpClientFactory)
        {
            _httpClient = httpClientFactory.CreateClient("BookingCOM");
            apiBase = "/api/v1/hotels/";
        }


        // get hotels from generic search query
        public async Task<IEnumerable<BaseHotelRoomDTO>> GetHotels(string location, DateOnly checkin, DateOnly checkout)
        {
            goto Skip;

            string locationSearchEndpoint = apiBase + "searchDestination";
            string hotelSearchEndpoint = apiBase + "searchHotels";

            string locationQuery = $"{locationSearchEndpoint}?query={location}";

            var locationResponse = await _httpClient.GetAsync(locationQuery);
            LocationSearchModel? lsm = await locationResponse.Content.ReadFromJsonAsync<LocationSearchModel>();
            if (lsm == null || lsm.Status != true || lsm.Data.Count==0)
            {
                return null;
            }

            string destId = lsm.Data.First().DestId;
            string searchType = lsm.Data.First().SearchType;

            string checkIn = checkin.ToString(dateFormat);
            string checkOut = checkout.ToString(dateFormat);



          

            Dictionary<string, string> param = new Dictionary<string, string>()
            {
                {"dest_id", destId},
                {"search_type", searchType },

                { "arrival_date", checkIn },
                { "departure_date", checkOut}
            };

            var hotelQuery = hotelSearchEndpoint + Helper.ToQueryString(param);


            //Console.WriteLine(hotelQuery);
            //return null;
            //Console.WriteLine(hotelQuery);

            var hotelResponse = await _httpClient.GetAsync(hotelQuery);
            hotelResponse.EnsureSuccessStatusCode();

            //Console.WriteLine(await hotelResponse.Content.ReadAsStringAsync());

            //var hotels = await hotelResponse.Content.ReadFromJsonAsync<HotelSearchModel>();
        Skip:

            string res = @"
{""status"":true,""message"":""Success"",""timestamp"":1743160770213,""data"":{""hotels"":[{""hotel_id"":11600905,""accessibilityLabel"":""Albi Florentin.\n4 out of 5 stars.\n9.1 Superb 242 reviews.\n?Florentin? ? ?2.4 km from centre?\n?1.1 km from beach?.\nLimited-time Deal.\n Hotel room : 1?bed.\nOriginal price 252 USD. Current price 126 USD..\nIncludes taxes and charges.\nNo prepayment needed."",""property"":{""longitude"":34.769457263595,""wishlistName"":""Tel Aviv"",""accuratePropertyClass"":4,""countryCode"":""il"",""optOutFromGalleryChanges"":1,""latitude"":32.057274952888,""currency"":""ILS"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/531543797.jpg?k=f16849d461c63f7b73c75f1cbc1aa4ff8923061a7d0fc4a5078f39c682706d7c&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/531543797.jpg?k=f16849d461c63f7b73c75f1cbc1aa4ff8923061a7d0fc4a5078f39c682706d7c&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/531543797.jpg?k=f16849d461c63f7b73c75f1cbc1aa4ff8923061a7d0fc4a5078f39c682706d7c&o=""],""checkout"":{""untilTime"":""11:00"",""fromTime"":""11:00""},""isPreferred"":true,""checkoutDate"":""2025-03-30"",""reviewScoreWord"":""Superb"",""ufi"":-781545,""position"":0,""rankingPosition"":0,""priceBreakdown"":{""grossPrice"":{""value"":126.135033246664,""currency"":""USD""},""benefitBadges"":[{""explanation"":""Limited-time Deal"",""variant"":""constructive"",""text"":""Limited-time Deal"",""identifier"":""Limited Time Deal""}],""taxExceptions"":[],""strikethroughPrice"":{""currency"":""USD"",""value"":252.267342959261}},""name"":""Albi Florentin"",""qualityClass"":0,""mainPhotoId"":531543797,""id"":11600905,""isFirstPage"":true,""checkin"":{""fromTime"":""15:00"",""untilTime"":""00:00""},""propertyClass"":4,""reviewScore"":9.1,""reviewCount"":242,""checkinDate"":""2025-03-29"",""blockIds"":[""1160090501_388784349_1_0_0_277969""]}},{""hotel_id"":190692,""accessibilityLabel"":""Crowne Plaza Tel Aviv Beach by IHG.\n9.0 Superb 1865 reviews.\n?In city centre?\n?Beachfront?.\n Hotel room : 2?beds.\n225 USD.\nIncludes taxes and charges.\nFree cancellation.\nNo prepayment needed."",""property"":{""checkinDate"":""2025-03-29"",""blockIds"":[""19069215_244922115_2_2_0""],""reviewCount"":1865,""reviewScore"":9,""propertyClass"":0,""checkin"":{""untilTime"":""00:00"",""fromTime"":""15:00""},""isFirstPage"":true,""id"":190692,""qualityClass"":0,""mainPhotoId"":630247053,""name"":""Crowne Plaza Tel Aviv Beach by IHG"",""priceBreakdown"":{""grossPrice"":{""value"":224.691560530516,""currency"":""USD""},""benefitBadges"":[],""taxExceptions"":[]},""rankingPosition"":1,""position"":1,""reviewScoreWord"":""Superb"",""ufi"":-781545,""isPreferred"":true,""checkoutDate"":""2025-03-30"",""checkout"":{""fromTime"":""00:00"",""untilTime"":""11:00""},""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/630247053.jpg?k=5e5f06ced6d4377f0b9f19301ef174c348783a84fe44a7ffe66ff03a7eea1cf4&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/630247053.jpg?k=5e5f06ced6d4377f0b9f19301ef174c348783a84fe44a7ffe66ff03a7eea1cf4&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/630247053.jpg?k=5e5f06ced6d4377f0b9f19301ef174c348783a84fe44a7ffe66ff03a7eea1cf4&o=""],""currency"":""ILS"",""optOutFromGalleryChanges"":1,""latitude"":32.0839199237731,""countryCode"":""il"",""wishlistName"":""Tel Aviv"",""accuratePropertyClass"":0,""longitude"":34.7687016427517}},{""hotel_id"":22892,""accessibilityLabel"":""Dream Beach 98 Hotel And Spa.\n8.1 Very good 1254 reviews.\n?In city centre?\n?Beachfront?.\nEarly 2025 Deal.\n Hotel room : 1?bed.\nOriginal price 158 USD. Current price 95 USD..\nIncludes taxes and charges.\nNo prepayment needed."",""property"":{""mainPhotoId"":532490488,""qualityClass"":0,""name"":""Dream Beach 98 Hotel And Spa"",""isFirstPage"":true,""checkin"":{""untilTime"":""00:00"",""fromTime"":""15:00""},""id"":22892,""reviewScore"":8.1,""propertyClass"":0,""blockIds"":[""2289225_405393271_2_2_0_351574""],""checkinDate"":""2025-03-29"",""reviewCount"":1254,""accuratePropertyClass"":0,""wishlistName"":""Tel Aviv"",""longitude"":34.7677011787891,""currency"":""ILS"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/532490488.jpg?k=7747cfeb61ff16caa9dbf72b2ef3f3426faab2b777b89c1343330182ea7634de&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/532490488.jpg?k=7747cfeb61ff16caa9dbf72b2ef3f3426faab2b777b89c1343330182ea7634de&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/532490488.jpg?k=7747cfeb61ff16caa9dbf72b2ef3f3426faab2b777b89c1343330182ea7634de&o=""],""countryCode"":""il"",""optOutFromGalleryChanges"":0,""latitude"":32.0778474471304,""ufi"":-781545,""reviewScoreWord"":""Very good"",""checkout"":{""untilTime"":""11:00"",""fromTime"":""01:00""},""checkoutDate"":""2025-03-30"",""isPreferred"":true,""rankingPosition"":2,""priceBreakdown"":{""strikethroughPrice"":{""currency"":""USD"",""value"":157.872375729841},""taxExceptions"":[],""benefitBadges"":[{""text"":""Early 2025 Deal"",""variant"":""constructive"",""explanation"":""Early 2025 Deal"",""identifier"":""Early Year Deals""}],""grossPrice"":{""value"":94.7245148515314,""currency"":""USD""}},""position"":2}},{""hotel_id"":16695,""accessibilityLabel"":""Renaissance Tel Aviv Hotel.\n8.4 Very good 753 reviews.\n?In city centre?\n?Beachfront?.\n Hotel room : 1?bed.\n311 USD.\nIncludes taxes and charges.\nNo prepayment needed."",""property"":{""checkinDate"":""2025-03-29"",""blockIds"":[""1669509_246417342_1_1_0""],""reviewCount"":753,""reviewScore"":8.4,""propertyClass"":0,""isFirstPage"":true,""checkin"":{""untilTime"":""00:00"",""fromTime"":""15:00""},""id"":16695,""qualityClass"":0,""mainPhotoId"":627081685,""name"":""Renaissance Tel Aviv Hotel"",""rankingPosition"":3,""priceBreakdown"":{""benefitBadges"":[],""grossPrice"":{""currency"":""USD"",""value"":310.755237048871},""taxExceptions"":[]},""position"":3,""reviewScoreWord"":""Very good"",""ufi"":-781545,""checkout"":{""fromTime"":""00:00"",""untilTime"":""11:00""},""isPreferred"":true,""checkoutDate"":""2025-03-30"",""currency"":""ILS"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/627081685.jpg?k=37d84121d04686e524e8eae8cd02c0187ab40439c17ccb299bf8601759eac7e9&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/627081685.jpg?k=37d84121d04686e524e8eae8cd02c0187ab40439c17ccb299bf8601759eac7e9&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/627081685.jpg?k=37d84121d04686e524e8eae8cd02c0187ab40439c17ccb299bf8601759eac7e9&o=""],""countryCode"":""il"",""latitude"":32.0831517959474,""optOutFromGalleryChanges"":0,""wishlistName"":""Tel Aviv"",""accuratePropertyClass"":0,""longitude"":34.7687351703644}},{""hotel_id"":21729,""accessibilityLabel"":""Prima Tel Aviv Hotel.\n9.0 Superb 1590 reviews.\n?In city centre?\n?Beachfront?.\n1?bed.\nOriginal price 132 USD. Current price 118 USD..\nIncludes taxes and charges.\nNo prepayment needed."",""property"":{""latitude"":32.080047402935,""optOutFromGalleryChanges"":1,""countryCode"":""il"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/153388086.jpg?k=b9600833a38ffc6764b386052893d2d3bc78576c412893746830e23ef40cfd90&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/153388086.jpg?k=b9600833a38ffc6764b386052893d2d3bc78576c412893746830e23ef40cfd90&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/153388086.jpg?k=b9600833a38ffc6764b386052893d2d3bc78576c412893746830e23ef40cfd90&o=""],""currency"":""ILS"",""longitude"":34.7681611776352,""accuratePropertyClass"":0,""wishlistName"":""Tel Aviv"",""position"":4,""priceBreakdown"":{""grossPrice"":{""currency"":""USD"",""value"":118.405643564414},""benefitBadges"":[],""taxExceptions"":[],""strikethroughPrice"":{""value"":131.560313108201,""currency"":""USD""}},""rankingPosition"":4,""checkoutDate"":""2025-03-30"",""isPreferred"":true,""checkout"":{""fromTime"":""00:00"",""untilTime"":""11:00""},""ufi"":-781545,""reviewScoreWord"":""Superb"",""id"":21729,""checkin"":{""fromTime"":""15:00"",""untilTime"":""00:00""},""isFirstPage"":true,""name"":""Prima Tel Aviv Hotel"",""mainPhotoId"":153388086,""qualityClass"":0,""reviewCount"":1590,""blockIds"":[""2172910_369509778_0_2_0""],""checkinDate"":""2025-03-29"",""propertyClass"":0,""reviewScore"":9}},{""hotel_id"":8265093,""accessibilityLabel"":""Port Tower by Isrotel Design.\n4 out of 5 stars.\n8.5 Very good 3373 reviews.\n?Tel Aviv Port Area? ? ?2 km from centre?\n?Beachfront?.\nMobile-only price.\n1?bed.\nOriginal price 191 USD. Current price 172 USD..\nIncludes taxes and charges.\nNo prepayment needed."",""property"":{""propertyClass"":4,""reviewScore"":8.5,""reviewCount"":3373,""blockIds"":[""826509303_378210490_0_2_0""],""checkinDate"":""2025-03-29"",""name"":""Port Tower by Isrotel Design"",""mainPhotoId"":363112358,""qualityClass"":0,""id"":8265093,""checkin"":{""fromTime"":""15:00"",""untilTime"":""00:00""},""isFirstPage"":true,""checkoutDate"":""2025-03-30"",""isPreferred"":true,""checkout"":{""untilTime"":""12:00"",""fromTime"":""10:00""},""ufi"":-781545,""reviewScoreWord"":""Very good"",""position"":5,""priceBreakdown"":{""benefitBadges"":[{""identifier"":""Mobile Rate"",""explanation"":""Mobile-only price"",""text"":""Mobile-only price"",""variant"":""constructive""}],""grossPrice"":{""value"":171.582646223303,""currency"":""USD""},""strikethroughPrice"":{""currency"":""USD"",""value"":190.647384692559},""taxExceptions"":[]},""rankingPosition"":5,""longitude"":34.774666,""accuratePropertyClass"":4,""wishlistName"":""Tel Aviv"",""optOutFromGalleryChanges"":0,""latitude"":32.096129,""countryCode"":""il"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/363112358.jpg?k=0f66f27438628d824fd3f02d02f4f8093e85a98cb2f6ebd3624d14490953999b&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/363112358.jpg?k=0f66f27438628d824fd3f02d02f4f8093e85a98cb2f6ebd3624d14490953999b&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/363112358.jpg?k=0f66f27438628d824fd3f02d02f4f8093e85a98cb2f6ebd3624d14490953999b&o=""],""currency"":""ILS""}},{""hotel_id"":43823,""accessibilityLabel"":""Sea Tower by Isrotel Design.\n4 out of 5 stars.\n8.2 Very good 1179 reviews.\n?In city centre?\n?100 m from beach?.\nMobile-only price.\n Hotel room : 1?bed.\nOriginal price 167 USD. Current price 151 USD..\nIncludes taxes and charges.\nNo prepayment needed."",""property"":{""priceBreakdown"":{""benefitBadges"":[{""identifier"":""Mobile Rate"",""explanation"":""Mobile-only price"",""variant"":""constructive"",""text"":""Mobile-only price""}],""grossPrice"":{""value"":150.747610610473,""currency"":""USD""},""strikethroughPrice"":{""value"":167.497345122748,""currency"":""USD""},""taxExceptions"":[]},""rankingPosition"":6,""position"":6,""reviewScoreWord"":""Very good"",""ufi"":-781545,""isPreferred"":true,""checkoutDate"":""2025-03-30"",""checkout"":{""untilTime"":""12:00"",""fromTime"":""00:00""},""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/41085581.jpg?k=339f3a78b699e12a8078c947942dfc5d55c8bd24aa5407fd2c54283b3b9fa12f&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/41085581.jpg?k=339f3a78b699e12a8078c947942dfc5d55c8bd24aa5407fd2c54283b3b9fa12f&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/41085581.jpg?k=339f3a78b699e12a8078c947942dfc5d55c8bd24aa5407fd2c54283b3b9fa12f&o=""],""currency"":""ILS"",""optOutFromGalleryChanges"":0,""latitude"":32.0767247220079,""countryCode"":""il"",""wishlistName"":""Tel Aviv"",""accuratePropertyClass"":4,""longitude"":34.7671955823898,""checkinDate"":""2025-03-29"",""blockIds"":[""4382312_378210429_0_2_0""],""reviewCount"":1179,""reviewScore"":8.2,""propertyClass"":4,""checkin"":{""untilTime"":""00:00"",""fromTime"":""15:00""},""isFirstPage"":true,""id"":43823,""qualityClass"":0,""mainPhotoId"":41085581,""name"":""Sea Tower by Isrotel Design""}},{""hotel_id"":6506072,""accessibilityLabel"":""The Herbert Tel Aviv.\n8.8 Fabulous 892 reviews.\n?In city centre?\n?50 m from beach?.\nMobile-only price.\n Hotel room : 1?bed.\nOriginal price 205 USD. Current price 185 USD..\nIncludes taxes and charges.\nNo prepayment needed."",""property"":{""countryCode"":""il"",""optOutFromGalleryChanges"":0,""latitude"":32.073411,""currency"":""ILS"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/262772493.jpg?k=e6dd1907625d93f3dbac66a21fac17d27556c49dfcaf472faecc8f5ab10d2518&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/262772493.jpg?k=e6dd1907625d93f3dbac66a21fac17d27556c49dfcaf472faecc8f5ab10d2518&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/262772493.jpg?k=e6dd1907625d93f3dbac66a21fac17d27556c49dfcaf472faecc8f5ab10d2518&o=""],""longitude"":34.765479,""wishlistName"":""Tel Aviv"",""accuratePropertyClass"":0,""position"":7,""rankingPosition"":7,""priceBreakdown"":{""benefitBadges"":[{""identifier"":""Mobile Rate"",""explanation"":""Mobile-only price"",""variant"":""constructive"",""text"":""Mobile-only price""}],""grossPrice"":{""currency"":""USD"",""value"":184.878939538575},""strikethroughPrice"":{""currency"":""USD"",""value"":205.419833472165},""taxExceptions"":[]},""checkout"":{""untilTime"":""11:00"",""fromTime"":""10:00""},""isPreferred"":true,""checkoutDate"":""2025-03-30"",""reviewScoreWord"":""Fabulous"",""ufi"":-781545,""id"":6506072,""isFirstPage"":true,""checkin"":{""untilTime"":""00:00"",""fromTime"":""16:00""},""name"":""The Herbert Tel Aviv"",""qualityClass"":0,""mainPhotoId"":262772493,""reviewCount"":892,""checkinDate"":""2025-03-29"",""blockIds"":[""650607203_350828251_0_2_0""],""propertyClass"":0,""reviewScore"":8.8}},{""hotel_id"":2999115,""accessibilityLabel"":""Link Hotel & Hub By Dan Hotels.\n8.6 Fabulous 1631 reviews.\n?In city centre?\n?2.2 km from beach?.\nMobile-only price.\n Hotel room : 1?bed.\nOriginal price 196 USD. Current price 132 USD..\nIncludes taxes and charges.\nNo prepayment needed."",""property"":{""optOutFromGalleryChanges"":0,""latitude"":32.077615,""countryCode"":""il"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/157256998.jpg?k=ca8ab23a48763994b5a8b0cdfdcd34cead9b9052d90259994d44e10606fc77ff&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/157256998.jpg?k=ca8ab23a48763994b5a8b0cdfdcd34cead9b9052d90259994d44e10606fc77ff&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/157256998.jpg?k=ca8ab23a48763994b5a8b0cdfdcd34cead9b9052d90259994d44e10606fc77ff&o=""],""currency"":""ILS"",""longitude"":34.790639,""accuratePropertyClass"":0,""wishlistName"":""Tel Aviv"",""position"":8,""priceBreakdown"":{""benefitBadges"":[{""variant"":""constructive"",""text"":""Mobile-only price"",""explanation"":""Mobile-only price"",""identifier"":""Mobile Rate""}],""grossPrice"":{""currency"":""USD"",""value"":131.985184422659},""strikethroughPrice"":{""currency"":""USD"",""value"":195.536128342889},""taxExceptions"":[]},""rankingPosition"":8,""checkoutDate"":""2025-03-30"",""isPreferred"":true,""checkout"":{""fromTime"":""00:00"",""untilTime"":""12:00""},""ufi"":-781545,""reviewScoreWord"":""Fabulous"",""id"":2999115,""checkin"":{""fromTime"":""14:00"",""untilTime"":""00:00""},""isFirstPage"":true,""name"":""Link Hotel & Hub By Dan Hotels"",""mainPhotoId"":157256998,""qualityClass"":0,""reviewCount"":1631,""blockIds"":[""299911501_200930857_1_2_0""],""checkinDate"":""2025-03-29"",""propertyClass"":0,""reviewScore"":8.6}},{""hotel_id"":275787,""accessibilityLabel"":""InterContinental David Tel Aviv by IHG.\n5 out of 5 stars.\n7.7 Good 807 reviews.\n?Neve Tzedek? ? ?1.8 km from centre?\n?Beachfront?.\n Hotel room : 1?bed.\n389 USD.\nIncludes taxes and charges.\nNo prepayment needed."",""property"":{""id"":275787,""isFirstPage"":true,""checkin"":{""fromTime"":""15:00"",""untilTime"":""00:00""},""name"":""InterContinental David Tel Aviv by IHG"",""qualityClass"":0,""mainPhotoId"":318218060,""reviewCount"":807,""checkinDate"":""2025-03-29"",""blockIds"":[""27578707_357741749_1_2_0""],""propertyClass"":5,""reviewScore"":7.7,""countryCode"":""il"",""optOutFromGalleryChanges"":1,""latitude"":32.0655678,""currency"":""USD"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/318218060.jpg?k=88fe25dedd164f29169173de07f49a7401f6d88584a6f89f3409f2bb3f86f30e&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/318218060.jpg?k=88fe25dedd164f29169173de07f49a7401f6d88584a6f89f3409f2bb3f86f30e&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/318218060.jpg?k=88fe25dedd164f29169173de07f49a7401f6d88584a6f89f3409f2bb3f86f30e&o=""],""longitude"":34.7628081,""wishlistName"":""Tel Aviv"",""accuratePropertyClass"":5,""position"":9,""rankingPosition"":9,""priceBreakdown"":{""grossPrice"":{""value"":389,""currency"":""USD""},""benefitBadges"":[],""taxExceptions"":[]},""checkout"":{""fromTime"":""00:00"",""untilTime"":""12:00""},""isPreferred"":true,""checkoutDate"":""2025-03-30"",""reviewScoreWord"":""Good"",""ufi"":-781545}},{""hotel_id"":12946467,""accessibilityLabel"":""Gymnasia Isrotel, a Tribute Portfolio Hotel.\n?In city centre?\n?800 m from beach?.\n Hotel room : 1?bed.\n123 USD.\nIncludes taxes and charges.\nNo prepayment needed."",""property"":{""blockIds"":[""1294646705_405446318_0_2_0""],""checkinDate"":""2025-03-29"",""reviewCount"":0,""reviewScore"":0,""propertyClass"":0,""checkin"":{""fromTime"":""15:00"",""untilTime"":""00:00""},""isFirstPage"":true,""id"":12946467,""mainPhotoId"":658311343,""qualityClass"":0,""name"":""Gymnasia Isrotel, a Tribute Portfolio Hotel"",""priceBreakdown"":{""grossPrice"":{""value"":122.559033016645,""currency"":""USD""},""benefitBadges"":[],""taxExceptions"":[]},""rankingPosition"":10,""position"":10,""ufi"":-781545,""reviewScoreWord"":"""",""checkoutDate"":""2025-03-30"",""isPreferred"":true,""checkout"":{""untilTime"":""12:00"",""fromTime"":""00:00""},""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/658311343.jpg?k=d4573d4b24425fefa43b781bbcccf3bb1b7aa65a1e3b73fc8288b47e10d369a7&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/658311343.jpg?k=d4573d4b24425fefa43b781bbcccf3bb1b7aa65a1e3b73fc8288b47e10d369a7&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/658311343.jpg?k=d4573d4b24425fefa43b781bbcccf3bb1b7aa65a1e3b73fc8288b47e10d369a7&o=""],""currency"":""ILS"",""latitude"":32.06491183,""optOutFromGalleryChanges"":0,""countryCode"":""il"",""accuratePropertyClass"":0,""wishlistName"":""Tel Aviv"",""longitude"":34.77010043}},{""hotel_id"":257601,""accessibilityLabel"":""Crowne Plaza Tel Aviv City Center by IHG.\n5 out of 5 stars.\n8.7 Fabulous 3161 reviews.\n?In city centre?\n?2.4 km from beach?.\n Hotel room : 1?bed.\n188 USD.\nIncludes taxes and charges.\nFree cancellation.\nNo prepayment needed."",""property"":{""reviewCount"":3161,""blockIds"":[""25760111_244921445_2_2_0""],""checkinDate"":""2025-03-29"",""propertyClass"":5,""reviewScore"":8.7,""id"":257601,""isFirstPage"":true,""checkin"":{""fromTime"":""15:00"",""untilTime"":""00:00""},""name"":""Crowne Plaza Tel Aviv City Center by IHG"",""mainPhotoId"":272309991,""qualityClass"":0,""position"":11,""rankingPosition"":11,""priceBreakdown"":{""taxExceptions"":[],""grossPrice"":{""currency"":""USD"",""value"":187.923850625522},""benefitBadges"":[]},""checkout"":{""fromTime"":""00:00"",""untilTime"":""11:00""},""checkoutDate"":""2025-03-30"",""isPreferred"":true,""ufi"":-781545,""reviewScoreWord"":""Fabulous"",""countryCode"":""il"",""latitude"":32.0745019583227,""optOutFromGalleryChanges"":0,""currency"":""ILS"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/272309991.jpg?k=1b8c62cebb5925033043522b53df05a8534fccfa4783ee071d536066345f54a6&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/272309991.jpg?k=1b8c62cebb5925033043522b53df05a8534fccfa4783ee071d536066345f54a6&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/272309991.jpg?k=1b8c62cebb5925033043522b53df05a8534fccfa4783ee071d536066345f54a6&o=""],""longitude"":34.7910833358765,""accuratePropertyClass"":5,""wishlistName"":""Tel Aviv""}},{""hotel_id"":446203,""accessibilityLabel"":""Hotel Indigo Tel Aviv - Diamond District by IHG.\n8.4 Very good 858 reviews.\n?2.9 km from centre?.\n Hotel room : 1?bed.\n155 USD.\nIncludes taxes and charges.\nFree cancellation.\nNo prepayment needed."",""property"":{""currency"":""ILS"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/444693459.jpg?k=18c361ed1dec32cafcc7c59948c8e1a1f16c5c7a6e86d833f2b0c6f522b0b86e&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/444693459.jpg?k=18c361ed1dec32cafcc7c59948c8e1a1f16c5c7a6e86d833f2b0c6f522b0b86e&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/444693459.jpg?k=18c361ed1dec32cafcc7c59948c8e1a1f16c5c7a6e86d833f2b0c6f522b0b86e&o=""],""countryCode"":""il"",""latitude"":32.0874784,""optOutFromGalleryChanges"":0,""accuratePropertyClass"":0,""wishlistName"":""Tel Aviv"",""longitude"":34.8027886,""rankingPosition"":12,""priceBreakdown"":{""taxExceptions"":[],""benefitBadges"":[],""grossPrice"":{""value"":155.241441821084,""currency"":""USD""}},""position"":12,""ufi"":-781545,""reviewScoreWord"":""Very good"",""checkout"":{""untilTime"":""11:00"",""fromTime"":""00:00""},""checkoutDate"":""2025-03-30"",""isPreferred"":true,""isFirstPage"":true,""checkin"":{""untilTime"":""00:00"",""fromTime"":""15:00""},""id"":446203,""mainPhotoId"":444693459,""qualityClass"":0,""name"":""Hotel Indigo Tel Aviv - Diamond District by IHG"",""blockIds"":[""44620306_244369195_2_2_0""],""checkinDate"":""2025-03-29"",""reviewCount"":858,""reviewScore"":8.4,""propertyClass"":0}},{""hotel_id"":7505568,""accessibilityLabel"":""The David Kempinski Tel Aviv.\n5 out of 5 stars.\n8.6 Fabulous 484 reviews.\n?In city centre?\n?Beachfront?.\n Hotel room : 2?beds.\n690 USD.\nIncludes taxes and charges.\nNo prepayment needed."",""property"":{""longitude"":34.766094,""accuratePropertyClass"":5,""wishlistName"":""Tel Aviv"",""countryCode"":""il"",""optOutFromGalleryChanges"":1,""latitude"":32.074638,""currency"":""USD"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/437253599.jpg?k=b5f091a7b48abb437d8ceab3144f5f595c473ce725fcd28e54fc35965a9138fd&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/437253599.jpg?k=b5f091a7b48abb437d8ceab3144f5f595c473ce725fcd28e54fc35965a9138fd&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/437253599.jpg?k=b5f091a7b48abb437d8ceab3144f5f595c473ce725fcd28e54fc35965a9138fd&o=""],""checkout"":{""fromTime"":""00:00"",""untilTime"":""12:00""},""checkoutDate"":""2025-03-30"",""isPreferred"":true,""ufi"":-781545,""reviewScoreWord"":""Fabulous"",""position"":13,""rankingPosition"":13,""priceBreakdown"":{""taxExceptions"":[],""grossPrice"":{""value"":690,""currency"":""USD""},""benefitBadges"":[]},""name"":""The David Kempinski Tel Aviv"",""mainPhotoId"":437253599,""qualityClass"":0,""id"":7505568,""isFirstPage"":true,""checkin"":{""fromTime"":""15:00"",""untilTime"":""00:00""},""propertyClass"":5,""reviewScore"":8.6,""reviewCount"":484,""blockIds"":[""750556801_340026693_2_1_0""],""checkinDate"":""2025-03-29""}},{""hotel_id"":43923,""accessibilityLabel"":""Metropolitan Hotel.\n8.1 Very good 1249 reviews.\n?In city centre?\n?Beachfront?.\nEarly 2025 Deal.\n Hotel room : 1?bed.\nOriginal price 168 USD. Current price 134 USD..\nIncludes taxes and charges.\nNo prepayment needed."",""property"":{""reviewScoreWord"":""Very good"",""ufi"":-781545,""checkout"":{""untilTime"":""11:00"",""fromTime"":""00:00""},""isPreferred"":true,""checkoutDate"":""2025-03-30"",""rankingPosition"":14,""priceBreakdown"":{""benefitBadges"":[{""explanation"":""Early 2025 Deal"",""variant"":""constructive"",""text"":""Early 2025 Deal"",""identifier"":""Early Year Deals""}],""grossPrice"":{""currency"":""USD"",""value"":134.082305654277},""strikethroughPrice"":{""currency"":""USD"",""value"":167.603562951363},""taxExceptions"":[]},""position"":14,""wishlistName"":""Tel Aviv"",""accuratePropertyClass"":0,""longitude"":34.7674638032913,""currency"":""ILS"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/554437130.jpg?k=9fd75343d1a600fe092d15ef372105876e9e9a383a108a0feaeb95ee6c807c6e&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/554437130.jpg?k=9fd75343d1a600fe092d15ef372105876e9e9a383a108a0feaeb95ee6c807c6e&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/554437130.jpg?k=9fd75343d1a600fe092d15ef372105876e9e9a383a108a0feaeb95ee6c807c6e&o=""],""countryCode"":""il"",""optOutFromGalleryChanges"":1,""latitude"":32.0754974358573,""reviewScore"":8.1,""propertyClass"":0,""checkinDate"":""2025-03-29"",""blockIds"":[""4392314_201747912_0_1_0""],""reviewCount"":1249,""qualityClass"":0,""mainPhotoId"":554437130,""name"":""Metropolitan Hotel"",""isFirstPage"":true,""checkin"":{""fromTime"":""15:00"",""untilTime"":""00:00""},""id"":43923}},{""hotel_id"":1713416,""accessibilityLabel"":""Abraham Tel Aviv.\n8.3 Very good 2612 reviews.\n?In city centre?\n?1.4 km from beach?.\n Bed in dormitory : 1?bed.\n31 USD.\nIncludes taxes and charges.\nNo prepayment needed."",""property"":{""propertyClass"":0,""reviewScore"":8.3,""reviewCount"":2612,""blockIds"":[""171341606_241653925_0_1_0""],""checkinDate"":""2025-03-29"",""name"":""Abraham Tel Aviv"",""mainPhotoId"":444809562,""qualityClass"":0,""id"":1713416,""checkin"":{""untilTime"":""00:00"",""fromTime"":""15:00""},""isFirstPage"":true,""checkoutDate"":""2025-03-30"",""isPreferred"":true,""checkout"":{""untilTime"":""11:00"",""fromTime"":""00:00""},""ufi"":-781545,""reviewScoreWord"":""Very good"",""position"":15,""priceBreakdown"":{""grossPrice"":{""value"":31.4568184742723,""currency"":""USD""},""benefitBadges"":[],""taxExceptions"":[]},""rankingPosition"":15,""longitude"":34.7763764245369,""accuratePropertyClass"":0,""wishlistName"":""Tel Aviv"",""latitude"":32.0632550229122,""optOutFromGalleryChanges"":1,""countryCode"":""il"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/444809562.jpg?k=0973a63109ed52cb15063ed3e676553167984c3da3580cb0820430616862b80b&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/444809562.jpg?k=0973a63109ed52cb15063ed3e676553167984c3da3580cb0820430616862b80b&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/444809562.jpg?k=0973a63109ed52cb15063ed3e676553167984c3da3580cb0820430616862b80b&o=""],""currency"":""ILS""}},{""hotel_id"":4965507,""accessibilityLabel"":""Herbert Samuel Opera Tel Aviv.\n8.6 Fabulous 1045 reviews.\n?In city centre?\n?Beachfront?.\n Hotel room : 1?bed.\n187 USD.\nIncludes taxes and charges."",""property"":{""id"":4965507,""isFirstPage"":true,""checkin"":{""untilTime"":""00:00"",""fromTime"":""16:00""},""name"":""Herbert Samuel Opera Tel Aviv"",""mainPhotoId"":452700145,""qualityClass"":0,""reviewCount"":1045,""blockIds"":[""496550701_371605639_0_2_0""],""checkinDate"":""2025-03-29"",""propertyClass"":0,""reviewScore"":8.6,""countryCode"":""il"",""optOutFromGalleryChanges"":1,""latitude"":32.073711,""currency"":""ILS"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/452700145.jpg?k=63a7fb354932c25056eeab7c5f140cba757bc1d1a934d5db18f2df6d2be306f2&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/452700145.jpg?k=63a7fb354932c25056eeab7c5f140cba757bc1d1a934d5db18f2df6d2be306f2&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/452700145.jpg?k=63a7fb354932c25056eeab7c5f140cba757bc1d1a934d5db18f2df6d2be306f2&o=""],""longitude"":34.765302,""accuratePropertyClass"":0,""wishlistName"":""Tel Aviv"",""position"":16,""rankingPosition"":16,""priceBreakdown"":{""taxExceptions"":[],""benefitBadges"":[],""grossPrice"":{""value"":186.954272497657,""currency"":""USD""}},""checkout"":{""untilTime"":""11:00"",""fromTime"":""00:00""},""checkoutDate"":""2025-03-30"",""isPreferred"":true,""ufi"":-781545,""reviewScoreWord"":""Fabulous""}},{""hotel_id"":4853043,""accessibilityLabel"":""The Muse Boutique Hotel Tel Aviv.\n8.2 Very good 677 reviews.\n?In city centre?\n?Beachfront?.\nEarly 2025 Deal.\n Hotel room : 1?bed.\nOriginal price 198 USD. Current price 158 USD..\nIncludes taxes and charges.\nNo prepayment needed."",""property"":{""name"":""The Muse Boutique Hotel Tel Aviv"",""qualityClass"":0,""mainPhotoId"":403321051,""id"":4853043,""isFirstPage"":true,""checkin"":{""untilTime"":""00:00"",""fromTime"":""15:00""},""propertyClass"":0,""reviewScore"":8.2,""reviewCount"":677,""checkinDate"":""2025-03-29"",""blockIds"":[""485304301_201748678_2_1_0""],""longitude"":34.767686,""wishlistName"":""Tel Aviv"",""accuratePropertyClass"":0,""countryCode"":""il"",""latitude"":32.075565,""optOutFromGalleryChanges"":0,""currency"":""ILS"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/403321051.jpg?k=05bcf9f6ce49a829831e3c88146c9eb457f65becf54c2a315f31c21c5bcc2eaa&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/403321051.jpg?k=05bcf9f6ce49a829831e3c88146c9eb457f65becf54c2a315f31c21c5bcc2eaa&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/403321051.jpg?k=05bcf9f6ce49a829831e3c88146c9eb457f65becf54c2a315f31c21c5bcc2eaa&o=""],""checkout"":{""fromTime"":""00:00"",""untilTime"":""11:00""},""isPreferred"":true,""checkoutDate"":""2025-03-30"",""reviewScoreWord"":""Very good"",""ufi"":-781545,""position"":17,""rankingPosition"":17,""priceBreakdown"":{""benefitBadges"":[{""text"":""Early 2025 Deal"",""variant"":""constructive"",""explanation"":""Early 2025 Deal"",""identifier"":""Early Year Deals""}],""grossPrice"":{""value"":158.289076442098,""currency"":""USD""},""strikethroughPrice"":{""currency"":""USD"",""value"":197.862026436139},""taxExceptions"":[]}}},{""hotel_id"":44092,""accessibilityLabel"":""Sheraton Grand Tel Aviv.\n5 out of 5 stars.\n8.1 Very good 367 reviews.\n?In city centre?\n?Beachfront?.\n Hotel room : 1?bed.\n449 USD.\nIncludes taxes and charges.\nFree cancellation.\nNo prepayment needed."",""property"":{""position"":18,""priceBreakdown"":{""benefitBadges"":[],""grossPrice"":{""value"":449,""currency"":""USD""},""taxExceptions"":[]},""rankingPosition"":18,""isPreferred"":true,""checkoutDate"":""2025-03-30"",""checkout"":{""untilTime"":""12:00"",""fromTime"":""00:00""},""reviewScoreWord"":""Very good"",""ufi"":-781545,""optOutFromGalleryChanges"":1,""latitude"":32.0815973400052,""countryCode"":""il"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/512249242.jpg?k=67da342feb48008ccaaaf9185062f2058cf4ae0169a3cd13be95e9d1615aa01f&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/512249242.jpg?k=67da342feb48008ccaaaf9185062f2058cf4ae0169a3cd13be95e9d1615aa01f&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/512249242.jpg?k=67da342feb48008ccaaaf9185062f2058cf4ae0169a3cd13be95e9d1615aa01f&o=""],""currency"":""USD"",""longitude"":34.7681102156639,""wishlistName"":""Tel Aviv"",""accuratePropertyClass"":5,""reviewCount"":367,""checkinDate"":""2025-03-29"",""blockIds"":[""4409221_246419498_2_2_0""],""propertyClass"":5,""reviewScore"":8.1,""id"":44092,""checkin"":{""fromTime"":""15:00"",""untilTime"":""00:00""},""isFirstPage"":true,""name"":""Sheraton Grand Tel Aviv"",""qualityClass"":0,""mainPhotoId"":512249242}},{""hotel_id"":85074,""accessibilityLabel"":""Orchid Tel Aviv.\n8.1 Very good 1138 reviews.\n?In city centre?\n?Beachfront?.\n Hotel room : 1?bed.\nOriginal price 196 USD. Current price 176 USD..\nIncludes taxes and charges."",""property"":{""isFirstPage"":true,""checkin"":{""fromTime"":""16:00"",""untilTime"":""00:00""},""id"":85074,""mainPhotoId"":144977058,""qualityClass"":0,""name"":""Orchid Tel Aviv"",""blockIds"":[""8507415_371605611_1_1_0""],""checkinDate"":""2025-03-29"",""reviewCount"":1138,""reviewScore"":8.1,""propertyClass"":0,""currency"":""ILS"",""photoUrls"":[""https://cf.bstatic.com/xdata/images/hotel/square500/144977058.jpg?k=38f6ca5104ceef79825f1d322da78c2f76174cef53eae600f444ee02accc340c&o="",""https://cf.bstatic.com/xdata/images/hotel/square1024/144977058.jpg?k=38f6ca5104ceef79825f1d322da78c2f76174cef53eae600f444ee02accc340c&o="",""https://cf.bstatic.com/xdata/images/hotel/square2000/144977058.jpg?k=38f6ca5104ceef79825f1d322da78c2f76174cef53eae600f444ee02accc340c&o=""],""countryCode"":""il"",""optOutFromGalleryChanges"":0,""latitude"":32.0774019950882,""accuratePropertyClass"":0,""wishlistName"":""Tel Aviv"",""longitude"":34.7668093442917,""rankingPosition"":19,""priceBreakdown"":{""grossPrice"":{""currency"":""USD"",""value"":176.384236783488},""benefitBadges"":[],""taxExceptions"":[],""strikethroughPrice"":{""value"":195.982787929883,""currency"":""USD""}},""position"":19,""ufi"":-781545,""reviewScoreWord"":""Very good"",""checkout"":{""fromTime"":""00:00"",""untilTime"":""11:00""},""checkoutDate"":""2025-03-30"",""isPreferred"":true}}],""meta"":[{""title"":""259 properties""}],""appear"":[{""component"":{""props"":{""content"":{""props"":{""fitContentWidth"":true,""items"":[{""props"":{""component"":{""props"":{""items"":[{""props"":{""text"":[{""text"":""Commission paid and other benefits may affect an accommodation's ranking."",""font"":""body_2""},{""text"":""  "",""font"":""strong_2"",""color"":""foreground""},{""linkActions"":[{""props"":{""url"":""booking://webview?url=https%3A%2F%2Fm.booking.com%2Fgeneral.en.html%3Faid%3D332731%3Btmpl%3Ddocs%2Fterms-and-conditions""}}],""color"":""action_foreground"",""font"":""body_2"",""text"":""Find out more""}]}}],""spacing"":""spacing_half""}}}},{""props"":{}},{""props"":{""component"":{""props"":{""icon"":""close"",""variant"":""tertiary_tinted"",""tertiaryTintedColor"":""foreground"",""accessibilityLabel"":""Close""}}}}]}},""fill"":true}},""id"":""cma""},{""contentUrl"":""https://mobile-apps.booking.com/json/mobile.saba?route_path=saba-chat-entrypoint&add_bh_info=1&add_genius_percentage_value=1&add_ribbon_text=1&affiliate_id=332731&arrival_date=2025-03-29&autoextend=1&booked_x_times_for_dates=1&booked_x_times_threshold=1&categories_filter_additional_data=&change_popularity_sort_option_copy_tag=1&change_sort_options_copy_tags=1&check_excluded_charge_or_tax=1&check_flexible_dates=1&check_is_candidate_wholesaler=1&currency_code=USD&dark_mode=1&deeplink_sec_since_click=168567.9046729803&departure_date=2025-03-30&dest_ids=-781545&device_id=57d11ec8bad14e119e4c15a86202c23f&distance_unit=metric&dl_sr_adoption=1&dotd=2&exposure_api_version=2.17&fix_dotd=1&flex_window=0&generate_map_bounding_box=1&get_cny_campaign_banner=1&get_skiing_info=1&guest_qty=1&include_amazon_banner=1&include_apartment_config=1&include_badges_in_price_breakdown=1&include_beach_information=1&include_bh_quality_classification=1&include_block_ids=1&include_bsb_info=1&include_bwallet_hotel_eligibility=1&include_composite_breakdown=1&include_cpc_non_trader_copy=1&include_excluded_charges_detail=1&include_free_cancellation=1&include_genius_badge=1&include_last_reservation=1&include_nr_bookings_best_range_message=1&include_nr_bookings_today=1&include_offered_bed_types=1&include_preview_cards=1&include_rack_rate_savings=1&include_rtb=1&include_ski_information=1&languagecode=en&location_source=recents&mark_first_highlighted_hotel=1&min_saba_version=31&network_type=wifi&new_segments_carousel=1&offset=0&optimized_call=1&outcome=search_results&page_define_enabled=1&pref_match=0&reason=change_sort_options&remove_wishlist_padding=1&room_qty=1&rows=auto&saba=1&saba_payload_root=1&saba_version=50&sb_calendar_open=1&search_type=city&send_ranking_version=1&send_search_id=1&show_beach_filter_badge=1&show_city_distance=1&show_distance_to_beach=1&show_distance_to_nearest_public_transport=1&show_genius_free_breakfast=0&show_if_mobile_deal=1&show_negotiated_rates=1&show_no_prepayment=1&show_policy=1&show_review_score_breakdowns=1&show_selected_filter_values=1&show_soldout=1&sort_by=auto&sort_by_source=sort_options&sort_genius_new_copy=1&source=search_results&temperature_unit=c&travel_purpose=&unfiltered_count_enabled=1&units=metric&use_dest_based_list_creation=1&use_direct_payment=1&user_os=15.5&user_version=36.8-iphone&categories_filter=price%3A%3AUSD-min-max&page=search-results""},{""component"":{""props"":{""title"":""Sign in and save money"",""text"":""Get instant access to our Genius loyalty programme and enjoy discounts at properties worldwide.""}},""id"":""signin_now""}]}}
                ";


            var hotels = JsonSerializer.Deserialize<HotelSearchModel>(res);

            List<BaseHotelRoomDTO> result = new();

            Regex bedPattern = new Regex(@"(?:Hotel room|Room with shared bathroom|Private suite|Shared dorm room|Entire apartment)\s*[:-]\s*\d+\s*beds?");



                    



            foreach (var hotel in hotels.data.hotels)
            {
                int dates = DateOnly.Parse(hotel.property.checkoutDate).DayNumber - DateOnly.Parse(hotel.property.checkinDate).DayNumber;

                result.Add(new BaseHotelRoomDTO()
                {
                    // ill leave this here to show how dumb the fucking api is
                    //Beds = hotel.accessibilityLabel.Split("\n")[3].Split(":")[1],
                    Beds = bedPattern.Match(hotel.accessibilityLabel).Value,
                    TotalPrice = new()
                    {
                        Currency = hotel.property.priceBreakdown.grossPrice.currency,
                        Value = hotel.property.priceBreakdown.grossPrice.value,
                    },
                    PricePerNight = new()
                    {
                        Currency = hotel.property.priceBreakdown.grossPrice.currency,
                        Value = (hotel.property.priceBreakdown.grossPrice.value / dates ) 
                    },

                    Rating = hotel.property.reviewScore,
                    RatingDesc = hotel.property.reviewScoreWord,
                    RatingAmount = hotel.property.reviewCount,

                    //Location = 
                    ImageSource = hotel.property.photoUrls.First(),
                    Name = hotel.property.name,
                });
            }


            return result;
        }

        public Task<IEnumerable<BaseHotelRoomDTO>> GetHotels(int destinationId, DateOnly checkin, DateOnly checkout)
        {
            throw new NotImplementedException();
        }


        public Task<IEnumerable<BaseHotelRoomDTO>> GetHotels(string city, string country, DateOnly checkin, DateOnly checkout)
        {
            throw new NotImplementedException();
        }
    }
}
